<!DOCTYPE html>
<html>
<head>
  <title>Admin Panel</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="firebase-config.js"></script>
  <style>
    body { font-family: Arial; padding: 20px; }
    h2 { margin-top: 40px; }
    .user-pick { margin: 10px 0; }
    input[type="number"] { width: 60px; }
  </style>
</head>
<body>
  <h1>Admin: Assign Points</h1>
  <label for="stage">Stage Date (YYYY-MM-DD): </label>
  <select id="stage"></select>
  <button onclick="loadPicks()">Load Picks</button>

  <div id="picks-section"></div>

  <script>
    const db = firebase.firestore();
    const auth = firebase.auth();

    // Optional: restrict access only to admin user
    const ADMIN_EMAIL = "youradmin@email.com";

    auth.onAuthStateChanged(user => {
      if (!user || user.email !== ADMIN_EMAIL) {
        alert("Access Denied");
        window.location.href = "index.html";
      }
    });

    async function loadPicks() {
      const date = document.getElementById("stage").value;
      const container = document.getElementById("picks-section");
      container.innerHTML = "";

      const snapshot = await db.collection("picks").doc(date).collection("users").ge
